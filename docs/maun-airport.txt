Applying client-side destination/class filtering to preserve "On request" products
ğŸšŒ Using CSV-based Group Tours filtering
ğŸšŒ Applying hybrid Group Tours filtering
ğŸšŒ Destination: "Maun Airport", Class: "Deluxe"
ğŸšŒ ğŸ“¦ TourPlan API returned 3 total products:
ğŸšŒ   1. MUBGTJENMANJENBSE - Location: "Maun Airport" - Class: "Deluxe"
ğŸšŒ   2. MUBGTSUNWAYSUBT13 - Location: "Maun Airport" - Class: "Overland camping"
ğŸšŒ   3. MUBGTSUNWAYSUNA13 - Location: "Maun" - Class: "Basic"
ğŸ¯ Applying pattern-based filtering for destination: "Maun Airport", class: "Deluxe"
ğŸ¯ Class filter check - Value: 'Deluxe', Type: string, Empty: false
ğŸ“¦ Total products before filtering: 3
âš ï¸ BBKPKTVT001BOD6KM is NOT in the products array from TourPlan API
ğŸ¢ MAUN DEBUG product: MUBGTJENMANJENBSE - Location: "Maun Airport" - Class: "Deluxe"
ğŸ¢ MAUN DEBUG productLocation: "maun airport" - productClass: "deluxe"
ğŸ¢ MAUN DEBUG destination search: "Maun Airport"
Error searching products: ReferenceError: Cannot access 'destLower' before initialization
    at eval (lib\tourplan\services.ts:2888:47)
    at Array.filter (<anonymous>)
    at applyDynamicDestinationFiltering (lib\tourplan\services.ts:2866:36)
    at applyGroupToursFiltering (lib\tourplan\services.ts:814:32)
    at searchProducts (lib\tourplan\services.ts:1725:39)
    at async GET (app\api\tourplan\route.ts:30:19)
  2886 |       console.log(`ğŸ¢ MAUN DEBUG productLocation: "${productLocation}" - productClass: "${productClass}"`);
  2887 |       console.log(`ğŸ¢ MAUN DEBUG destination search: "${destination}"`);
> 2888 |       console.log(`ğŸ¢ MAUN DEBUG destLower: "${destLower}"`);
       |                                               ^
  2889 |     }
  2890 |
  2891 |     console.log(`ğŸ” Checking product: ${productCode} - "${product.name}" - Supplier: "${product.supplier}"`);
 GET /api/tourplan?productType=Group+Tours&destination=Maun+Airport&class=Deluxe 200 in 2072ms