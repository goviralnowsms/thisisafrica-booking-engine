ğŸ” Pre-filter check: {
  productType: 'Group Tours',
  destination: 'Maun',
  class: 'Deluxe',
  productsBeforeFilter: 3
}
âœ… Applying client-side destination/class filtering to preserve "On request" products
ğŸšŒ Using CSV-based Group Tours filtering
ğŸšŒ Applying hybrid Group Tours filtering
ğŸšŒ Destination: "Maun", Class: "Deluxe"
ğŸšŒ ğŸ“¦ TourPlan API returned 3 total products:
ğŸšŒ   1. MUBGTJENMANJENBSE - Location: "Maun Airport" - Class: "Deluxe"
ğŸšŒ   2. MUBGTSUNWAYSUBT13 - Location: "Maun Airport" - Class: "Overland camping"
ğŸšŒ   3. MUBGTSUNWAYSUNA13 - Location: "Maun" - Class: "Basic"
ğŸ¯ Applying pattern-based filtering for destination: "Maun", class: "Deluxe"
ğŸ¯ Class filter check - Value: 'Deluxe', Type: string, Empty: false
ğŸ“¦ Total products before filtering: 3
âš ï¸ BBKPKTVT001BOD6KM is NOT in the products array from TourPlan API
ğŸ¢ MAUN DEBUG product: MUBGTJENMANJENBSE - Location: "Maun Airport" - Class: "Deluxe"
ğŸ¢ MAUN DEBUG productLocation: "maun airport" - productClass: "deluxe"
ğŸ” Checking product: MUBGTJENMANJENBSE - "Botswana & Zimbabwe Escape" - Supplier: "Jenman Safaris"
âœ… MUBGTJENMANJENBSE: Destination match using API location - "maun airport" matches "Maun"
âœ… MUBGTJENMANJENBSE: Class match using API field - "deluxe" matches "Deluxe"
âœ… MUBGTJENMANJENBSE: destination=true, class=true
ğŸ” Checking product: MUBGTSUNWAYSUBT13 - "Wild Botswana - Small Group" - Supplier: "Sunway Safaris"
âœ… MUBGTSUNWAYSUBT13: Destination match using API location - "maun airport" matches "Maun"
âŒ MUBGTSUNWAYSUBT13: destination=true, class=false
ğŸ” Checking product: MUBGTSUNWAYSUNA13 - "Botswana Wild Parks - small group" - Supplier: "Sunway Safaris"
âœ… MUBGTSUNWAYSUNA13: Destination match using API location - "maun" matches "Maun"
âŒ MUBGTSUNWAYSUNA13: destination=true, class=false
ğŸ¯ Dynamic filtering result: 3 â†’ 1 products
âœ… Matching products: [ 'MUBGTJENMANJENBSE - Botswana & Zimbabwe Escape' ]
ğŸšŒ Dynamic filtering successful: 3 â†’ 1 products
ğŸšŒ Applied Group Tours CSV filtering: 3 â†’ 1 products
 GET /api/tourplan?productType=Group+Tours&destination=Maun&class=Deluxe 200 in 1644ms
 âœ“ Compiled /api/tourplan/pricing/[productCode] in 85ms (135 modules)
ğŸ“… Using extended date range (2 years): { dateFrom: '2025-08-26', dateTo: '2025-11-26', months: 60 }
Getting pricing calendar for: {
  productCode: 'MUBGTJENMANJENBSE',
  dateFrom: '2025-08-26',
  dateTo: '2025-11-26',
  adults: 2,
  children: 0,
  roomType: 'DB'
}
ğŸ“Š Using Info parameter "GDMA" for product MUBGTJENMANJENBSE (isRail: false, isCruise: false) - includes availability flags
Getting pricing for date range: MUBGTJENMANJENBSE 2025-08-26 to 2025-11-26
ğŸš‚ Rail API request using Info="GDMA"
ğŸ“¥ TourPlan Response XML: <?xml version="1.0" encoding="utf-8"?><!DOCTYPE Reply SYSTEM "hostConnect_5_05_000.dtd"><Reply><OptionInfoReply><Option><Opt>MUBGTJENMANJENBSE</Opt><OptionNumber>103583</OptionNumber><OptGeneral><SupplierId>16659</SupplierId><SupplierName>Jenman Safaris</SupplierName><Description>Botswana &amp; Zimbabwe Escape</Description><Description2 /><Comment>Maun to Victoria Falls</Comment><Comment2 /><Locality>MUB</Locality><LocalityDescription>Maun Airport</LocalityDescription><Class>DE</Class><ClassDescription>Deluxe</ClassDescription><Periods>9</Periods><SType>Y</SType><SCU>Tour</SCU><MinSCU>1</MinSCU><MaxSCU>9999</MaxSCU><VoucherName>Jenman Safaris</VoucherName><Address1 /><Address2 /><Address3>Cape Town</Address3><Address4>Western Cape</Address4><Address5>South Africa</Address5><PostCode>7702</PostCode><Single_Avail>Y</Single_Avail><Single_Ad_Max>1</Single_Ad_Max><Twin_Avail>Y</Twin_Avail><Twin_Ad_Max>2</Twin_Ad_Max><Double_Avail>Y</Double_Avail><Double_Ad_Max>2</Double_Ad_Max><Triple_Avail>N</Triple_Avail><Quad_Avail>N</Quad_Avail><InfantsAllowed>Y</InfantsAllowed><ChildrenAllowed>Y</ChildrenAllowed><AdultsAllowed>Y</AdultsAllowed><PromptForPuDo>N</PromptForPuDo><ButtonName>Group Tours</ButtonName><LastUpdate>2023-11-03T04:25:37Z</LastUpdate></OptGeneral><OptDateRanges /><OptAvail>-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 </OptAvail><Amenities><Amenity><AmenityLevel>O</AmenityLevel><AmenityCode>BW</AmenityCode><AmenityCategory>CTY</AmenityCategory><AmenityDescription>Botswana</AmenityDescription></Amenity><Amenity><AmenityLevel>O</AmenityLevel><AmenityCode>ZW</AmenityCode><AmenityCategory>CTY</AmenityCategory><AmenityDescription>Zimbabwe</AmenityDescription></Amenity></Amenities></Option></OptionInfoReply></Reply>
ğŸ“Š WordPress-style availability data found: {
  OptAvail: '-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1'